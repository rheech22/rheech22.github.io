<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.11.0"/><meta name="theme-color" content="#161b22"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" data-gatsby-head="true"/><meta name="description" content="요약 블로그를 위키 형식으로 구성해 보았다. Vimwiki를 사용하여 로컬에서 문서를 작성한다. 문서는 개츠비를 통해 GitHub Pages에 배포된다. 계층 구조로 문서를 관리하여 상위 문서를 모두 확인할 수 있다. 문서의 변경 날짜와 히스토리를 …" data-gatsby-head="true"/><meta name="image" data-gatsby-head="true"/><meta name="og:title" content="conerstone" data-gatsby-head="true"/><meta name="og:description" content="요약 블로그를 위키 형식으로 구성해 보았다. Vimwiki를 사용하여 로컬에서 문서를 작성한다. 문서는 개츠비를 통해 GitHub Pages에 배포된다. 계층 구조로 문서를 관리하여 상위 문서를 모두 확인할 수 있다. 문서의 변경 날짜와 히스토리를 …" data-gatsby-head="true"/><meta name="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="개츠비와 Vimwiki 접목시키기 | conerstone" data-gatsby-head="true"/><meta name="twitter:url" content="https://rheech22.github.io/gatsby/개츠비와_Vimwiki_접목시키기" data-gatsby-head="true"/><meta name="twitter:description" content="요약 블로그를 위키 형식으로 구성해 보았다. Vimwiki를 사용하여 로컬에서 문서를 작성한다. 문서는 개츠비를 통해 GitHub Pages에 배포된다. 계층 구조로 문서를 관리하여 상위 문서를 모두 확인할 수 있다. 문서의 변경 날짜와 히스토리를 …" data-gatsby-head="true"/><meta name="twitter:image" content="https://rheech22.github.ioundefined" data-gatsby-head="true"/><meta name="twitter:creator" content="@@rheech22" data-gatsby-head="true"/><meta name="naver-site-verification" content="45d911481aa02bda5a391b5f2474bc61356de3f8" data-gatsby-head="true"/><meta http-equiv="Permissions-Policy" content="interest-cohort=(), user-id=()" data-gatsby-head="true"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0DM3BCWTDS"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0DM3BCWTDS', {"send_page_view":false});
      }
      </script><style data-styled="" data-styled-version="6.0.7">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,menu,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block;}/*!sc*/
*[hidden]{display:none;}/*!sc*/
body{line-height:1;}/*!sc*/
menu,ol,ul{list-style:none;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
@font-face{font-family:BlinkMacSystemFont;src:local('※');font-weight:400;font-style:normal;unicode-range:U+0041-005A,U+0061-007A,U+0030-0039;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
html,body{scroll-behavior:smooth;margin:0;}/*!sc*/
body{font-family:'Spoqa Han Sans',BlinkMacSystemFont,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;width:100%;background-color:#000000;color:#C9D1D9;min-height:100vh;line-height:1.5;transition:all .5s;}/*!sc*/
body #gatsby-focus-wrapper{max-width:1440px;padding:0 15px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;}/*!sc*/
body main{font-size:16px;width:100%;}/*!sc*/
body a{color:unset;}/*!sc*/
data-styled.g2[id="sc-global-hGiQiZ1"]{content:"sc-global-hGiQiZ1,"}/*!sc*/
.dndVdK{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;border-top:1px solid #222222;transition:border-color 0.5s;margin-top:auto;width:100%;font-size:12px;text-align:center;font-weight:400;color:#bac4ce;}/*!sc*/
.dndVdK>section{padding:48px 8px;}/*!sc*/
data-styled.g3[id="Footer__Container-sc-13p6nst-0"]{content:"dndVdK,"}/*!sc*/
.esCaBN:focus{outline:none;}/*!sc*/
data-styled.g5[id="Textbox__Input-sc-vlag4q-0"]{content:"esCaBN,"}/*!sc*/
.hRTaSi{border-radius:8px;width:140px;height:48px;font-weight:400;position:relative;transition:all 0.5s;}/*!sc*/
@media (min-width: 768px){.hRTaSi:focus-within{width:544px;}.hRTaSi:focus-within>ul{display:block;}}/*!sc*/
.hRTaSi>input{border:none;border-radius:8px;padding:0 12px;width:100%;height:100%;background-color:#222222;color:#fff;font-size:14px;transition:background-color 0.5s;}/*!sc*/
.hRTaSi>input::placeholder{color:#a7a7a7;}/*!sc*/
.hRTaSi>input:focus{color:#fff;background-color:#383838;}/*!sc*/
@media (min-width: 768px){.hRTaSi>input:focus{border-bottom-left-radius:6px;border-bottom-right-radius:6px;}}/*!sc*/
.hRTaSi>input:focus::placeholder{color:#757D86;}/*!sc*/
data-styled.g6[id="SearchBar__Container-sc-6n5xnu-0"]{content:"hRTaSi,"}/*!sc*/
.cgshUI{display:flex;flex-direction:row;align-items:center;justify-content:normal;position:sticky;top:0;width:100%;min-height:71px;opacity:0.9;background-color:hsla(0, 0%, 0%, 0.5);backdrop-filter:blur(20px);z-index:1;transition:all 0.5s;}/*!sc*/
data-styled.g8[id="Header__Container-sc-z8t49p-0"]{content:"cgshUI,"}/*!sc*/
.erKfrX{display:flex;flex-direction:row;align-items:center;justify-content:center;min-width:38px;height:38px;transition:all 2s;}/*!sc*/
@media (min-width: 768px){.erKfrX{display:none;}}/*!sc*/
.erKfrX svg{width:20px;height:20px;transform:translateY(1px);}/*!sc*/
.erKfrX svg g>path{stroke:#f0f6fc;}/*!sc*/
data-styled.g9[id="Header__HomeButton-sc-z8t49p-1"]{content:"erKfrX,"}/*!sc*/
.fWSnbl{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;display:none;color:#f0f6fc;text-decoration:none;transition:color 2s;}/*!sc*/
@media (min-width: 768px){.fWSnbl{display:block;}}/*!sc*/
.fWSnbl>h1{font-size:24px;font-weight:600;white-space:nowrap;}/*!sc*/
data-styled.g10[id="Header__Title-sc-z8t49p-2"]{content:"fWSnbl,"}/*!sc*/
.iscvfN{position:relative;z-index:0;margin-right:8px;border:none;border-radius:50%;background:none;min-width:38px;min-height:38px;overflow:hidden;cursor:pointer;transition:box-shadow 2s;}/*!sc*/
@media (min-width: 768px){.iscvfN{margin-left:8px;}}/*!sc*/
@media (hover:hover){.iscvfN:hover{box-shadow:rgb(109,110,129) 1.5px 1.5px 3px 0px inset,rgba(109,110,129,0.5) -1.5px -1.5px 3px 1px inset;background-image:linear-gradient( to right bottom,#000000,#211e1f,#3b353b,#55505a,#6d6c7b,#6d6e81,#6b7187,#69748d,#535c78,#3e4563,#2b304e,#181b3a );}}/*!sc*/
data-styled.g11[id="Header__Button-sc-z8t49p-3"]{content:"iscvfN,"}/*!sc*/
.dkdLLc{position:absolute;top:19px;right:-32px;border:1px dotted transparent;border-radius:50%;width:100px;height:100px;transition:border-color 2s;}/*!sc*/
@media (hover:hover){.dkdLLc:hover{border-color:#C9D1D9;}.dkdLLc:hover svg path{fill:ivory;}}/*!sc*/
.dkdLLc>div{position:absolute;top:40px;right:40px;border-radius:50%;border:none;padding:0;width:20px;height:20px;background:none;outline:none;}/*!sc*/
.dkdLLc>div:first-of-type{animation:ZmWYm 1.5s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;}/*!sc*/
.dkdLLc>div:last-of-type{animation:dGgAwC 1.5s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;}/*!sc*/
.dkdLLc>div svg{width:20px;height:20px;transform:rotate(90deg);}/*!sc*/
.dkdLLc>div svg path{fill:#fff;}/*!sc*/
data-styled.g12[id="Header__CircleLayout-sc-z8t49p-4"]{content:"dkdLLc,"}/*!sc*/
.eVMkLI{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;margin-left:auto;font-weight:500;}/*!sc*/
.eVMkLI>a{text-decoration:none;}/*!sc*/
.eVMkLI>a:hover{color:#F8EA18;}/*!sc*/
data-styled.g13[id="Header__Index-sc-z8t49p-5"]{content:"eVMkLI,"}/*!sc*/
.hmzKTL{position:sticky;top:163px;right:0px;display:none;min-width:fit-content;height:fit-content;overflow-y:scroll;color:#C9D1D9;}/*!sc*/
.hmzKTL::-webkit-scrollbar{display:none;}/*!sc*/
.hmzKTL h2{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;margin-bottom:12px;padding:8px 10px;font-size:14px;font-weight:500;letter-spacing:0.025em;transition:all 0.5s;}/*!sc*/
.hmzKTL ul{padding-left:20px;}/*!sc*/
.hmzKTL li+li{margin-top:8px;}/*!sc*/
data-styled.g15[id="TOC__Container-sc-1ylks3q-0"]{content:"hmzKTL,"}/*!sc*/
.itaPoa{display:flex;align-items:center;margin-left:auto;border-top-left-radius:0.5em;border-bottom-left-radius:0.5em;padding-left:8px;padding-right:10px;max-width:215px;min-width:130px;width:100%;background-color:none;color:#8b949e;font-size:13px;transition:all 50ms ease-in-out;}/*!sc*/
@media (hover:hover){.itaPoa:hover:hover{background-color:#222222;}}/*!sc*/
.itaPoa a{padding:7px 0;width:100%;text-decoration:unset;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;}/*!sc*/
data-styled.g16[id="TOC__List-sc-1ylks3q-1"]{content:"itaPoa,"}/*!sc*/
.bpQNeS{display:grid;grid-template-columns:auto;grid-template-rows:auto auto;grid-template-areas:'post' 'post' 'comments';}/*!sc*/
@media (min-width: 1080px){.bpQNeS{grid-template-columns:10fr 10fr 1fr;grid-template-rows:auto auto;grid-template-areas:'post post toc' 'post post toc' 'comments comments .';}}/*!sc*/
.bpQNeS>section{grid-area:post;}/*!sc*/
@media (min-width: 768px){.bpQNeS>section{max-width:826px;}}/*!sc*/
.bpQNeS>aside{grid-area:toc;}/*!sc*/
@media (min-width: 1280px){.bpQNeS>aside{display:flex;flex-direction:column;align-items:flex-start;justify-content:normal;}}/*!sc*/
.bpQNeS>div{grid-area:comments;margin:0 auto;}/*!sc*/
@media (min-width: 768px){.bpQNeS>div{max-width:826px;}}/*!sc*/
data-styled.g17[id="styles__Container-sc-4114r5-0"]{content:"bpQNeS,"}/*!sc*/
.cOLaBC{display:flex;flex-direction:row;align-items:normal;justify-content:center;margin:72px auto 72px auto;height:auto;width:100%;}/*!sc*/
data-styled.g18[id="styles__Section-sc-4114r5-1"]{content:"cOLaBC,"}/*!sc*/
.iQVJjY{padding:20px 0;width:100%;display:flex;flex-direction:column;align-items:normal;justify-content:normal;}/*!sc*/
data-styled.g19[id="styles__Article-sc-4114r5-2"]{content:"iQVJjY,"}/*!sc*/
.hLCEhK{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;font-weight:500;padding:10px 0;}/*!sc*/
.hLCEhK>div>a{text-underline-position:under;}/*!sc*/
.hLCEhK>div>a:hover{color:#F8EA18;}/*!sc*/
.hLCEhK>div>svg{margin:0 4px;transform:rotate(90deg);}/*!sc*/
data-styled.g20[id="styles__Nav-sc-4114r5-3"]{content:"hLCEhK,"}/*!sc*/
.dwxKPC{margin-bottom:26px;}/*!sc*/
data-styled.g21[id="styles__Header-sc-4114r5-4"]{content:"dwxKPC,"}/*!sc*/
.iAuiwv>section:nth-child(1){font-size:16px;}/*!sc*/
@media (min-width: 768px){.iAuiwv>section:nth-child(1){font-size:18px;}}/*!sc*/
.iAuiwv>section:nth-child(1) h1,.iAuiwv>section:nth-child(1) h2,.iAuiwv>section:nth-child(1) h3,.iAuiwv>section:nth-child(1) h4,.iAuiwv>section:nth-child(1) h5,.iAuiwv>section:nth-child(1) h6{font-weight:600;}/*!sc*/
.iAuiwv>section:nth-child(1) h1 .header-anchor,.iAuiwv>section:nth-child(1) h2 .header-anchor,.iAuiwv>section:nth-child(1) h3 .header-anchor,.iAuiwv>section:nth-child(1) h4 .header-anchor,.iAuiwv>section:nth-child(1) h5 .header-anchor,.iAuiwv>section:nth-child(1) h6 .header-anchor{fill:#F8EA18;}/*!sc*/
.iAuiwv>section:nth-child(1) h1:not(:first-of-type),.iAuiwv>section:nth-child(1) h2:not(:first-of-type),.iAuiwv>section:nth-child(1) h3:not(:first-of-type),.iAuiwv>section:nth-child(1) h4:not(:first-of-type),.iAuiwv>section:nth-child(1) h5:not(:first-of-type),.iAuiwv>section:nth-child(1) h6:not(:first-of-type){margin-top:1.2em;}/*!sc*/
.iAuiwv>section:nth-child(1) h1{margin-block-start:1em;margin-block-end:1em;font-size:36px;}/*!sc*/
.iAuiwv>section:nth-child(1) h2{margin-block-start:0.83em;margin-block-end:0.83em;font-size:28.8px;}/*!sc*/
.iAuiwv>section:nth-child(1) h3{margin-block-start:1em;margin-block-end:1em;font-size:21.6px;}/*!sc*/
.iAuiwv>section:nth-child(1) h4{margin-block-start:1.22em;margin-block-end:1.22em;font-size:19.8px;}/*!sc*/
.iAuiwv>section:nth-child(1) em{font-style:oblique;}/*!sc*/
.iAuiwv>section:nth-child(1) a{text-underline-position:under;}/*!sc*/
.iAuiwv>section:nth-child(1) a:hover{color:#F8EA18;}/*!sc*/
.iAuiwv>section:nth-child(1) p{display:block;margin-block-start:1em;margin-block-end:1em;word-break:break-word;line-height:32px;}/*!sc*/
.iAuiwv>section:nth-child(1) ol,.iAuiwv>section:nth-child(1) ul{padding-left:40px;}/*!sc*/
.iAuiwv>section:nth-child(1) ul{list-style-type:disc;}/*!sc*/
.iAuiwv>section:nth-child(1) ol{list-style-type:decimal;}/*!sc*/
.iAuiwv>section:nth-child(1) li{display:list-item;text-align:-webkit-match-parent;line-height:32px;}/*!sc*/
.iAuiwv>section:nth-child(1) li p{margin:0;}/*!sc*/
.iAuiwv>section:nth-child(1) table{display:block;border-color:gray;border-spacing:0;border-collapse:collapse;width:max-content;max-width:100%;overflow:auto;font-size:16px;}/*!sc*/
.iAuiwv>section:nth-child(1) table thead{display:table-header-group;vertical-align:middle;border-color:inherit;}/*!sc*/
.iAuiwv>section:nth-child(1) table tbody{display:table-row-group;vertical-align:middle;border-color:inherit;}/*!sc*/
.iAuiwv>section:nth-child(1) table tr{display:table-row;vertical-align:inherit;border:inherit;background-color:#0d1117;border-top-width:1px;border-top-style:solid;border-top-color:#222222;transition:all 0.5s;}/*!sc*/
.iAuiwv>section:nth-child(1) table tr:nth-of-type(2n){background-color:#383838;}/*!sc*/
.iAuiwv>section:nth-child(1) table th,.iAuiwv>section:nth-child(1) table td{display:table-cell;vertical-align:inherit;padding:6px 13px;border-width:1px;border-style:solid;border-color:#30363d;transition:all 0.5s;}/*!sc*/
.iAuiwv>section:nth-child(1) blockquote{padding:12px 20px 12px 28px;margin:30px 0px;border-left:4px solid #C9D1D9;font-family:Georgia,serif;font-style:italic;text-align:justify;font-size:24px;line-height:1.2;transition:all 0.5s;}/*!sc*/
.iAuiwv>section:nth-child(1) blockquote p{margin:0;}/*!sc*/
.iAuiwv>section:nth-child(1) code{margin:0;padding:0.2em 0.4em;background-color:rgba(135,131,120,0.15);color:#BF616A;border-radius:6px;font-size:85%;font-family:SFMono-Regular,Menlo,Consolas,Liberation Mono,monospace;}/*!sc*/
.iAuiwv>section:nth-child(1) strong{font-weight:bold;}/*!sc*/
.iAuiwv>section:nth-child(1) deckgo-highlight-code{--deckgo-highlight-code-carbon-toolbar-display:none;--deckgo-highlight-code-white-space:pre-wrap;max-width:90vw;font-size:3vw;margin-bottom:32px;}/*!sc*/
@media (min-width: 425px){.iAuiwv>section:nth-child(1) deckgo-highlight-code{font-size:14px;}}/*!sc*/
.iAuiwv>section:nth-child(1) img{max-width:90vw;}/*!sc*/
@media (min-width: 768px){.iAuiwv>section:nth-child(1) img{max-width:694px;}}/*!sc*/
data-styled.g22[id="styles__Main-sc-4114r5-5"]{content:"iAuiwv,"}/*!sc*/
.ibrFQC{margin-bottom:4px;font-size:36px;font-weight:600;}/*!sc*/
@media (min-width: 425px){.ibrFQC{font-size:42px;}}/*!sc*/
data-styled.g23[id="styles__Title-sc-4114r5-6"]{content:"ibrFQC,"}/*!sc*/
.kJnDSb{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;color:#8b949e;font-size:14px;}/*!sc*/
.kJnDSb>div{display:flex;flex-direction:column;align-items:flex-end;justify-content:normal;}/*!sc*/
.kJnDSb>div a{text-underline-position:under;}/*!sc*/
.kJnDSb>div a:hover{color:#F8EA18;}/*!sc*/
data-styled.g24[id="styles__SubTitle-sc-4114r5-7"]{content:"kJnDSb,"}/*!sc*/
@keyframes ZmWYm{from{transform:rotate(90deg) translate(50px) translateZ(10px);}to{transform:rotate(270deg) translate(50px) translateZ(10px);}}/*!sc*/
data-styled.g26[id="sc-keyframes-ZmWYm"]{content:"ZmWYm,"}/*!sc*/
@keyframes dGgAwC{from{transform:rotate(90deg) translate(-50px) translateZ(10px);}to{transform:rotate(270deg) translate(-50px) translateZ(10px);}}/*!sc*/
data-styled.g27[id="sc-keyframes-dGgAwC"]{content:"dGgAwC,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .header-anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .header-anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .header-anchor svg,
    h2 .header-anchor svg,
    h3 .header-anchor svg,
    h4 .header-anchor svg,
    h5 .header-anchor svg,
    h6 .header-anchor svg {
      visibility: hidden;
    }
    h1:hover .header-anchor svg,
    h2:hover .header-anchor svg,
    h3:hover .header-anchor svg,
    h4:hover .header-anchor svg,
    h5:hover .header-anchor svg,
    h6:hover .header-anchor svg,
    h1 .header-anchor:focus svg,
    h2 .header-anchor:focus svg,
    h3 .header-anchor:focus svg,
    h4 .header-anchor:focus svg,
    h5 .header-anchor:focus svg,
    h6 .header-anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - -200)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=6d5c0719d6ce39c07b53ce38158aed46" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/favicons/android-chrome-192x192.png?v=6d5c0719d6ce39c07b53ce38158aed46"/><link rel="apple-touch-icon" sizes="512x512" href="/favicons/android-chrome-512x512.png?v=6d5c0719d6ce39c07b53ce38158aed46"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><title data-gatsby-head="true">개츠비와 Vimwiki 접목시키기 | conerstone</title><link as="style" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@100;200;300;400;500&amp;display=swap" data-gatsby-head="true"/><link as="style" rel="stylesheet" href="//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css" data-gatsby-head="true"/><script type="application/ld+json" data-gatsby-head="true">
            {
              "@context": "https://schema.org",
              "@type": "HowTo",
              "url": "https://rheech22.github.io/gatsby/개츠비와_Vimwiki_접목시키기",
              "headline": "conerstone",
              "datePublished": "2023-08-22 00:00:26 +0900",
              "dateModified": "2023-08-27 03:33:15 +0900",
              "image": "[]"
            }
          </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__Container-sc-z8t49p-0 cgshUI"><a tabindex="-1" class="Header__HomeButton-sc-z8t49p-1 erKfrX" href="/"><svg viewBox="0 0 21 21" fill="currentColor" height="1em" width="1em"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M1.5 10.5l9-9 9 9"></path><path d="M3.5 8.5v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></g></svg></a><a tabindex="-1" class="Header__Title-sc-z8t49p-2 fWSnbl" href="/"><h1>conerstone</h1></a><button tabindex="-1" aria-label="switch display mode" class="Header__Button-sc-z8t49p-3 iscvfN"><div class="Header__CircleLayout-sc-z8t49p-4 dkdLLc"><div><svg width="30px" height="30px" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M26.25 14.936C26.25 21.107 21.097 26.25 14.656 26.25C9.761 26.25 5.509 23.55 3.835 19.436C3.706 19.05 3.706 18.664 3.963 18.407C4.221 18.15 4.608 18.021 4.994 18.15C5.638 18.279 6.282 18.407 6.798 18.407C11.951 18.407 16.073 14.421 16.073 9.407C16.073 7.864 15.815 6.579 15.042 5.036C14.913 4.779 14.913 4.393 15.171 4.136C15.429 3.879 15.686 3.75 16.073 3.75C21.87 4.393 26.25 9.279 26.25 14.936Z" fill="#030D45"></path></svg></div><div><svg width="30px" height="30px" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 9.375c-3.1 0 -5.625 2.525 -5.625 5.625s2.525 5.625 5.625 5.625 5.625 -2.525 5.625 -5.625 -2.525 -5.625 -5.625 -5.625zm14.438 4.717l-5.549 -2.771 1.963 -5.883c0.264 -0.797 -0.492 -1.553 -1.283 -1.283l-5.883 1.963 -2.777 -5.555c-0.375 -0.75 -1.441 -0.75 -1.816 0l-2.771 5.549L5.432 4.148c-0.797 -0.264 -1.553 0.492 -1.283 1.283l1.963 5.883 -5.549 2.777c-0.75 0.375 -0.75 1.441 0 1.816l5.549 2.771 -1.963 5.889c-0.264 0.797 0.492 1.553 1.283 1.283l5.883 -1.963 2.771 5.549c0.375 0.75 1.441 0.75 1.816 0l2.771 -5.549 5.883 1.963c0.797 0.264 1.553 -0.492 1.283 -1.283l-1.963 -5.883 5.549 -2.771c0.762 -0.381 0.762 -1.447 0.012 -1.822zm-9.135 6.211c-2.924 2.924 -7.682 2.924 -10.605 0 -2.924 -2.924 -2.924 -7.682 0 -10.605 2.924 -2.924 7.682 -2.924 10.605 0 2.924 2.924 2.924 7.682 0 10.605z"></path></svg></div></div></button><form class="SearchBar__Container-sc-6n5xnu-0 hRTaSi"><input type="text" placeholder="Search" maxLength="40" class="Textbox__Input-sc-vlag4q-0 esCaBN" value=""/><button type="submit" hidden="" aria-label="Submit Search"></button></form><div class="Header__Index-sc-z8t49p-5 eVMkLI"><a tabindex="-1" href="/wiki-index/"><h2>Index.</h2></a></div></header><main><div class="styles__Container-sc-4114r5-0 bpQNeS"><section class="styles__Section-sc-4114r5-1 cOLaBC"><article class="styles__Article-sc-4114r5-2 iQVJjY"><nav class="styles__Nav-sc-4114r5-3 hLCEhK"><div><a href="/gatsby/">gatsby</a></div></nav><header class="styles__Header-sc-4114r5-4 dwxKPC"><h1 class="styles__Title-sc-4114r5-6 ibrFQC">개츠비와 Vimwiki 접목시키기</h1><div class="styles__SubTitle-sc-4114r5-7 kJnDSb"><div><span>5<!-- --> min read</span><time dateTime="created at"><a href="https://github.com/rheech22/rheech22.github.io/commits/develop/src/wikis/gatsby/개츠비와_Vimwiki_접목시키기/index.md" target="_blank" rel="noreferrer">CREATED: <!-- -->21/08/2023</a></time><time dateTime="updated at"><a href="https://github.com/rheech22/rheech22.github.io/commits/develop/src/wikis/gatsby/개츠비와_Vimwiki_접목시키기/index.md" target="_blank" rel="noreferrer">UPDATED: <!-- -->26/08/2023</a></time><a href="https://github.com/rheech22/rheech22.github.io/blame/develop/src/wikis/gatsby/개츠비와_Vimwiki_접목시키기/index.md" target="_blank" rel="noreferrer">Blame</a></div></div></header><main class="styles__Main-sc-4114r5-5 iAuiwv"><section><h1 id="요약" style="position:relative;">요약<a href="#%EC%9A%94%EC%95%BD" aria-label="요약 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<ul>
<li>블로그를 위키 형식으로 구성해 보았다.</li>
<li>Vimwiki를 사용하여 로컬에서 문서를 작성한다.</li>
<li>문서는 개츠비를 통해 GitHub Pages에 배포된다.</li>
<li>계층 구조로 문서를 관리하여 상위 문서를 모두 확인할 수 있다.</li>
<li>문서의 변경 날짜와 히스토리를 쉽게 알 수 있다.</li>
<li>커밋 시점에 Vimwiki 인덱스를 자동으로 갱신한다.</li>
<li><a href="https://johngrib.github.io/wiki/my-wiki/">이종립님의 위키</a>를 많이 참고했다.</li>
</ul>
<h1 id="why-wiki" style="position:relative;">WHY Wiki<a href="#why-wiki" aria-label="why wiki permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>핑계에 불과하지만 블로그에서는 완성된 글에 대한 강박 비스무리한 것이 있었다. 티스토리에 글을 남기던 때보다 그 부담이 심했는데 그러다보니 미루기만 했다. 다양한 이유로 여러 차례 종립님의 블로그를 참고한 적이 있다. 위키 형식인 것이 인상 깊었는데 위키라면 조금은 부담없이 글을 남길 수 있을 것 같았다. 위키는 한 번 작성하고 끝나는 것이 아니라 꾸준히 내용을 보충하고 수정해야 하는 대상처럼 느껴지기 때문이 아닐까 싶다. 한편으로는 현재 내 실력으로는 고퀄리티의 글을 자주 작성하기는 어렵다고 생각했다. 결국 기록을 위한 나만의 위키를 만들어 보았다.</p>
<h1 id="why-vimwiki" style="position:relative;">WHY Vimwiki<a href="#why-vimwiki" aria-label="why vimwiki permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>Vimwiki를 사용하면 쉽게 문서와 그 링크를 만들 수 있다. 예를 들어 <code>바나나</code>라는 단어를 입력하고 엔터 키를 누르면 <code>[[바나나]]</code>로 바뀌면서 링크가 생성된다. 그리고 엔터 키를 한번 더 누르면 해당 문서로 이동하여 문서를 바로 작성할 수 있다. 이 글에서는 가능하면 종립님이 다루셨던 내용은 포함하지 않을 생각이다. 혹시라도 누군가 이 글을 참고할 계획이면 종립님의 글을 우선적으로 참고하길 바란다. 여기서는 개츠비 블로그를 위키 형식으로 바꾸고 Vimwiki를 접목시키는 내용을 주로 다루려고 한다.</p>
<h1 id="vim-세팅" style="position:relative;">Vim 세팅<a href="#vim-%EC%84%B8%ED%8C%85" aria-label="vim 세팅 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>종립님의 글을 참고하여 Vim과 Vimwiki를 위한 설정을 한다.</p>
<ul>
<li>Vimwiki 설치 및 설정(개츠비 파일 시스템의 경로를 위키 경로로 설정해야 함)</li>
<li>Vim-startify 설치 및 설정</li>
<li>frontmatter 자동완성 및 업데이트 항목 갱신 자동화 설정</li>
</ul>
<p>frontmatter에 포함하던 시리즈, 태그, 제목 및 경로를 사용하지 않기로 했다. 이젠 생성일자와 수정일자 항목만 필요하다.</p>
<deckgo-highlight-code  terminal="carbon" theme="one-dark"  >
          <code slot="code">function! Template()

	if line(&quot;$&quot;) &gt; 1
		return
	endif

	let l:template = []
	call add(l:template, &#39;---&#39;)
	call add(l:template, &#39;created: &#39; . strftime(&#39;%Y-%m-%d %H:%M:%S +0900&#39;))
	call add(l:template, &#39;updated: &#39; . strftime(&#39;%Y-%m-%d %H:%M:%S +0900&#39;))
	call add(l:template, &#39;---&#39;)
	call add(l:template, &#39;&#39;)
	call add(l:template, &#39;# &#39;)
	call setline(1, l:template)
	execute &#39;normal! G&#39;
	execute &#39;normal! $&#39;

	echom &#39;new wiki page has created&#39;
endfunction</code>
        </deckgo-highlight-code>
<h1 id="개츠비에-필요한-노드-추가하기" style="position:relative;">개츠비에 필요한 노드 추가하기<a href="#%EA%B0%9C%EC%B8%A0%EB%B9%84%EC%97%90-%ED%95%84%EC%9A%94%ED%95%9C-%EB%85%B8%EB%93%9C-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" aria-label="개츠비에 필요한 노드 추가하기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>개츠비에서는 각 문서가 부모에 대한 정보를 가지고 있지 않아도 계층 구조를 구현할 수 있다. 노드를 생성할 때 파일 경로를 기반으로 <code>slug</code> 필드를 추가하여 이를 활용한다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">// ./gatsby-node.ts

exports.onCreateNode = ({ node, getNode, actions }: CreateNodeArgs) =&gt; {
  const { createNodeField } = actions;
  if (node.internal.type === &#39;MarkdownRemark&#39;) {
    const slug = createFilePath({
      node,
      getNode,
      basePath: &#39;pages&#39;,
      trailingSlash: false
    });

    createNodeField({
      node,
      name: &#39;slug&#39;,
      value: slug
    });
  }
};</code>
        </deckgo-highlight-code>
<p>폴더명을 제목으로 사용하기 위해 <code>title</code> 필드도 추가한다. 언더스코어는 공백으로 대체했다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">// ./gatsby-node.ts 
// ..이어서

    createNodeField({
      node,
      name: &#39;title&#39;,
      value: slug.split(&#39;/&#39;).slice(-1).pop()?.replaceAll(`_`, ` `)
    });
</code>
        </deckgo-highlight-code>
<p>이 방식을 위해서는 몇가지 규칙이 필요하다.</p>
<ul>
<li>폴더 이름을 지을 때 공백은 언더스코어 <code>_</code>로 대체한다.</li>
<li><code>이름/index.md</code>과 같은 형태로 폴더 및 파일을 생성한다.</li>
</ul>
<p>언더스코어를 문서 제목에 자유롭게 포함시킬 수 없다는 문제가 있지만 당장 큰 불편함은 없을 것 같다. 폴더는 아래와 같이 구성한다.</p>
<deckgo-highlight-code language="bash" terminal="carbon" theme="one-dark"  >
          <code slot="code">/wikis
├── 책
│   ├── index.md
│   └── 위대한_개츠비
│       └── index.md
</code>
        </deckgo-highlight-code>
<p>위대한 개츠비 문서의 주소는 <code>https://주소/책/위대한_개츠비</code>의 형식이 된다.</p>
<h1 id="수정된-날짜-오름차순으로-정렬하기" style="position:relative;">수정된 날짜 오름차순으로 정렬하기<a href="#%EC%88%98%EC%A0%95%EB%90%9C-%EB%82%A0%EC%A7%9C-%EC%98%A4%EB%A6%84%EC%B0%A8%EC%88%9C%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0" aria-label="수정된 날짜 오름차순으로 정렬하기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p><code>updated</code> 필드를 기준으로 정렬된 문서를 요청하면 최근 수정된 문서를 상단에서 보여줄 수 있다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">
const GET_WIKIS = graphql`
  query getWikis {
    allMarkdownRemark(sort: { frontmatter: { updated: DESC } }) {
      edges {
        node {
          id
          html
          fields {
            slug
            title
          }
          frontmatter {
            created
            updated
          }
        }
      }
    }
  }
`;
</code>
        </deckgo-highlight-code>
<h1 id="상위-문서-보여주기" style="position:relative;">상위 문서 보여주기<a href="#%EC%83%81%EC%9C%84-%EB%AC%B8%EC%84%9C-%EB%B3%B4%EC%97%AC%EC%A3%BC%EA%B8%B0" aria-label="상위 문서 보여주기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>파일 경로를 주소로 사용하고 있기 때문에 부모 경로를 보여주는 것은 어렵지 않다.</p>
<p>아래에서 <code>child_1</code>의 slug는 <code>parent/child_1</code> 이다.</p>
<deckgo-highlight-code language="bash" terminal="carbon" theme="one-dark"  >
          <code slot="code">/wikis
├── parent
│   ├── index.md
│   └── child_1
│       └── index.md
</code>
        </deckgo-highlight-code>
<p><code>slug</code>를 받아서 네비게이션 리스트로 변환하는 유틸을 사용한다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">
const getAncestors = (slug: string) =&gt; {
  const segments = slug.split(&#39;/&#39;);

  return segments
    .slice(1, segments.length - 1)
    .reduce&lt;{ path: string; value: string }[]&gt;((acc, cur, index) =&gt; {
      const prevPath = acc[index - 1]?.path || &#39;&#39;;

      return [
        ...acc,
        {
          path: `${prevPath}/${cur}`,
          value: cur.replaceAll(&#39;/&#39;, &#39;&#39;).replaceAll(&#39;_&#39;, &#39; &#39;)
        }
      ];
    }, []);
};
</code>
        </deckgo-highlight-code>
<p>각 문서의 템플릿에서는 상위 문서 네비게이션을 제공할 수 있다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">
const navs = getAncestors(slug);

// ... 생략

&lt;nav&gt;
	{navs.length ? (
              navs.map(({ path, value }, index, { length }) =&gt; (
                &lt;div key={value}&gt;
                  &lt;Link key={value} to={path}&gt;
                    {value}
                  &lt;/Link&gt;
                  {Boolean(index + 1 &lt; length) &amp;&amp; &lt;ArrowThin /&gt;}
                &lt;/div&gt;
              ))
            ) : (&lt;span&gt;ROOT&lt;/span&gt;)
	}
&lt;/nav&gt;

// ... 생략
</code>
        </deckgo-highlight-code>
<h1 id="vimwiki-링크-a-태그로-바꿔주기" style="position:relative;">Vimwiki 링크 a 태그로 바꿔주기<a href="#vimwiki-%EB%A7%81%ED%81%AC-a-%ED%83%9C%EA%B7%B8%EB%A1%9C-%EB%B0%94%EA%BF%94%EC%A3%BC%EA%B8%B0" aria-label="vimwiki 링크 a 태그로 바꿔주기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>Vimwiki의 <code>[[링크]]</code> 형식을 <code>&#x3C;a></code> 태그로 바꿔줘야 한다. 내 위키의 경우 모두 <code>index.md</code>를 포함하고 있어서 경로에서 이를 제거하고 타이틀을 추출해야 한다. 그리고 그 타이틀을 <code>&#x3C;a></code> 태그의 <code>textContent</code>로 넣고, 한편으로는 해당 주소로부터 상대적인 <code>href</code> 속성을 전달해야 한다. Vimwiki 링크 형식을 변환하는 유틸을 만들어 사용한다.</p>
<deckgo-highlight-code language="ts" terminal="carbon" theme="one-dark"  >
          <code slot="code">
const parseLinks = ({ contents, slug }: { contents: string; slug: string }) =&gt; {
  return contents.replace(/\[\[([ㄱ-ㅎ가-힣\w\-_./]+?)\]\](?![\S]*&lt;\/code&gt;)/g, (_, value) =&gt; {
    const title = value.replace(&#39;/index.md&#39;, &#39;&#39;);

    const path = `${slug}/${title}`;

    return `&lt;a href=${path}&gt;${title.replaceAll(&#39;_&#39;, &#39; &#39;)}&lt;/a&gt;`;
  });
};
</code>
        </deckgo-highlight-code>
<p>코드 블럭에 포함된 경우에는 변환시키지 않으려고 다소 긴 정규 표현식을 사용했다. 문서 경로 -> 문서 제목 -> pathname 으로 사용하고 있기 때문에 어렵지 않게 Vimwiki 링크를 찾아낼 수 있지만 완전한 형태는 아니다. 인라인이 아닌 여러 줄의 코드 블럭에서는 패턴에 일치하는 경우 링크로 변환될 수 있다. 더 좋은 방법을 찾아봐야 한다.</p>
<h1 id="마크다운-내-링크에서-라우터-사용하기" style="position:relative;">마크다운 내 링크에서 라우터 사용하기<a href="#%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4-%EB%82%B4-%EB%A7%81%ED%81%AC%EC%97%90%EC%84%9C-%EB%9D%BC%EC%9A%B0%ED%84%B0-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="마크다운 내 링크에서 라우터 사용하기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>위 방법대로 변환된 링크를 클릭하면 실제 <code>&#x3C;a></code> 태그의 기본 동작대로 새로고침이 발생한다. 상대 경로의 경우 내부 리액트 라우터를 사용하도록 해야 한다. <a href="https://www.gatsbyjs.com/plugins/gatsby-plugin-catch-link">gatsby-plugin-catch-links</a> 개츠비 플러그인을 사용하면 내부 경로를 가진 링크를 gatsby-link로 대체할 수 있다.</p>
<h1 id="vimwiki-인덱스-자동생성" style="position:relative;">Vimwiki 인덱스 자동생성<a href="#vimwiki-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%9E%90%EB%8F%99%EC%83%9D%EC%84%B1" aria-label="vimwiki 인덱스 자동생성 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>내 위키의 경우 Vimwiki의 인덱스에서 모든 문서를 생성하진 않고 하위 문서가 필요한 문서에서 바로 링크를 만들고 있다. 그렇기 때문에 깊은 곳에 있는 문서를 나중에 수정하려면 링크를 타고 들어가야 한다. 이런 불편함 때문에 루트에 해당하는 Vimwiki 인덱스에 모든 링크를 잘 정리할 필요가 있다. 하지만 문서를 하나 추가할 때마다 인덱스에 그 링크를 기록하는 건 꽤나 귀찮고 깜빡하기도 쉽다. 인덱스 문서를 자동으로 생성하기로 했다. 요구사항은 아래와 같다.</p>
<ul>
<li>모든 경로를 Vimwiki 링크로 작성한다.</li>
<li>모든 링크를 이름 오름차순으로 정렬한다.</li>
<li>문서 계층의 깊이에 따라 들여쓰기를 한다.</li>
<li>커밋을 할 때마다 자동으로 문서를 갱신한다.</li>
</ul>
<p>프로젝트 루트 경로에 js 파일 하나를 추가했다. 일부 함수는 종립님의 스크립트를 참고했다.</p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">
// generate_wiki_index.js

const fs = require(&#39;fs&#39;);

const target = &#39;src/wikis/index.md&#39;;
const list = [];

function isDirectory(path) {
  return fs.lstatSync(path).isDirectory();
}

function isMarkdown(fileName) {
  return /\.md$/.test(fileName);
}

function getFiles(path, list) {
  fs.readdirSync(path).forEach((fileName) =&gt; {
    const subPath = `${path}/${fileName}`;

    if (isDirectory(subPath)) {
      return getFiles(subPath, list);
    }

    if (isMarkdown(fileName) &amp;&amp; subPath !== target) {
      return list.push(subPath);
    }
  });
}

function getVimWikiLinks(paths) {
  return paths
    .map((path) =&gt; path.replace(&#39;src/wikis/&#39;, &#39;&#39;).replace(&#39;/index.md&#39;, &#39;&#39;))
    .sort()
    .map((path) =&gt; {
      const segments = path.split(&#39;/&#39;);
      const depth = segments.length - 1;
      const link = `* [[${segments.join(&#39;/&#39;)}${isMarkdown(path) ? &#39;&#39; : &#39;/index.md&#39;}]]`;

      return link.padStart(link.length + depth, &#39;\t&#39;);
    });
}

const deleteFile = (target) =&gt; {
  fs.unlink(target, function (err) {
    if (err) throw err;
  });
};

const createFile = (filename) =&gt; {
  fs.open(filename, &#39;w&#39;, function (err) {
    if (err) throw err;
  });
};

const appendFile = (target, value) =&gt; {
  fs.appendFileSync(target, value + &#39;\r\n&#39;, function (err) {
    if (err) throw err;
  });
};

function appendLinks(target, links) {
  appendFile(target, &#39;== VimWiki Index ==&#39; + &#39;\r\n&#39;);

  links.forEach((link) =&gt; {
    appendFile(target, link);
  });
}

getFiles(&#39;src/wikis&#39;, list);

deleteFile(target);

createFile(target);

appendLinks(target, getVimWikiLinks(list));
</code>
        </deckgo-highlight-code>
<p>pre-commit을 활성화하고 커밋을 할 때마다 위 코드를 실행시키도록 한다.</p>
<deckgo-highlight-code language="shell" terminal="carbon" theme="one-dark"  >
          <code slot="code"># $project_path/.git/hooks/pre-commit

#!/bin/bash

node ./generate_wiki_index.js
</code>
        </deckgo-highlight-code>
<p>커밋을 하면 아래와 같이 인덱스 문서를 생성한다.</p>
<p><img src="https://github.com/rheech22/rheech22.github.io/assets/57756798/67e1c6c9-ee39-4c80-8d37-34265d10c887" alt="index"></p></section></main></article></section><aside class="TOC__Container-sc-1ylks3q-0 hmzKTL"><h2>ON THIS PAGE</h2><ul><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#요약">요약</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#why-wiki">WHY Wiki</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#why-vimwiki">WHY Vimwiki</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#vim-세팅">Vim 세팅</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#개츠비에-필요한-노드-추가하기">개츠비에 필요한 노드 추가하기</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#수정된-날짜-오름차순으로-정렬하기">수정된 날짜 오름차순으로 정렬하기</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#상위-문서-보여주기">상위 문서 보여주기</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#vimwiki-링크-a-태그로-바꿔주기">Vimwiki 링크 a 태그로 바꿔주기</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#마크다운-내-링크에서-라우터-사용하기">마크다운 내 링크에서 라우터 사용하기</a></li><li class="TOC__List-sc-1ylks3q-1 itaPoa"><a href="/gatsby/개츠비와_Vimwiki_접목시키기/#vimwiki-인덱스-자동생성">Vimwiki 인덱스 자동생성</a></li></ul></aside></div></main><footer class="Footer__Container-sc-13p6nst-0 dndVdK"><section><span>© rheech22 2022</span></section></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/gatsby/개츠비와_Vimwiki_접목시키기/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-60e68dd35e34627756cc.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-5bef5c84fb8d1a3b27f0.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-d0095af23451b1cf0507.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-35d24ded9e9611f58e8e.js\"],\"component---src-pages-search-tsx\":[\"/component---src-pages-search-tsx-979609618046049304d4.js\"],\"component---src-pages-wiki-index-tsx\":[\"/component---src-pages-wiki-index-tsx-6d7ef39e98279b545d70.js\"],\"component---src-templates-wiki-template-tsx\":[\"/component---src-templates-wiki-template-tsx-c8846d75d6daabf6cde6.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="438d3d7ff259bc07bcf4";</script><script src="/webpack-runtime-ec2071d88e55a9bb9117.js" async></script><script src="/framework-31fd9fa701293a5c6789.js" async></script><script src="/app-60e68dd35e34627756cc.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>