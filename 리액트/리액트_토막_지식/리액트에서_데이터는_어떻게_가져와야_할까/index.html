<!DOCTYPE html><html lang="ko-KR"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.1"/><meta name="theme-color" content="#161b22"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" data-gatsby-head="true"/><meta name="description" content="이 글은 How to fetch data in React을 읽고 요약한 글입니다. 팁이라고 할만한 내용이 많지 않아서 클래스 컴포넌트로 작성된 내용을 함수 컴포넌트로 바꾸는 정도로만 정리해 봤습니다. 리액트에서 널리 사용되는 HTTP 클라이언트 라이…" data-gatsby-head="true"/><meta name="image" data-gatsby-head="true"/><meta name="og:title" content="conerstone" data-gatsby-head="true"/><meta name="og:description" content="이 글은 How to fetch data in React을 읽고 요약한 글입니다. 팁이라고 할만한 내용이 많지 않아서 클래스 컴포넌트로 작성된 내용을 함수 컴포넌트로 바꾸는 정도로만 정리해 봤습니다. 리액트에서 널리 사용되는 HTTP 클라이언트 라이…" data-gatsby-head="true"/><meta name="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="리액트에서 데이터는 어떻게 가져와야 할까 | conerstone" data-gatsby-head="true"/><meta name="twitter:url" content="https://rheech22.github.io/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까" data-gatsby-head="true"/><meta name="twitter:description" content="이 글은 How to fetch data in React을 읽고 요약한 글입니다. 팁이라고 할만한 내용이 많지 않아서 클래스 컴포넌트로 작성된 내용을 함수 컴포넌트로 바꾸는 정도로만 정리해 봤습니다. 리액트에서 널리 사용되는 HTTP 클라이언트 라이…" data-gatsby-head="true"/><meta name="twitter:image" content="https://rheech22.github.ioundefined" data-gatsby-head="true"/><meta name="twitter:creator" content="@@rheech22" data-gatsby-head="true"/><meta name="naver-site-verification" content="45d911481aa02bda5a391b5f2474bc61356de3f8" data-gatsby-head="true"/><meta http-equiv="Permissions-Policy" content="interest-cohort=(), user-id=()" data-gatsby-head="true"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0DM3BCWTDS"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0DM3BCWTDS', {"send_page_view":false});
      }
      </script><style data-styled="" data-styled-version="6.1.14">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,menu,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block;}/*!sc*/
*[hidden]{display:none;}/*!sc*/
body{line-height:1;}/*!sc*/
menu,ol,ul{list-style:none;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
@font-face{font-family:BlinkMacSystemFont;src:local('※');font-weight:400;font-style:normal;unicode-range:U+0041-005A,U+0061-007A,U+0030-0039;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
html,body{scroll-behavior:smooth;margin:0;}/*!sc*/
body{font-family:'Spoqa Han Sans',BlinkMacSystemFont,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;width:100%;background-color:#000000;color:#C9D1D9;min-height:100vh;line-height:1.5;transition:all .5s;}/*!sc*/
body #gatsby-focus-wrapper{max-width:1440px;padding:0 15px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;}/*!sc*/
body main{font-size:16px;width:100%;}/*!sc*/
body a{color:unset;}/*!sc*/
data-styled.g2[id="sc-global-hGiQiZ1"]{content:"sc-global-hGiQiZ1,"}/*!sc*/
.iETjur{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;border-top:1px solid #222222;transition:border-color 0.5s;margin-top:auto;width:100%;font-size:12px;text-align:center;font-weight:400;color:#bac4ce;}/*!sc*/
.iETjur>section{padding:48px 8px;}/*!sc*/
data-styled.g3[id="Footer__Container-sc-13p6nst-0"]{content:"iETjur,"}/*!sc*/
.emEIsO:focus{outline:none;}/*!sc*/
data-styled.g5[id="Textbox__Input-sc-vlag4q-0"]{content:"emEIsO,"}/*!sc*/
.dqUuBy{border-radius:8px;width:140px;height:48px;font-weight:400;position:relative;transition:all 0.5s;}/*!sc*/
@media (min-width: 768px){.dqUuBy:focus-within{width:544px;}.dqUuBy:focus-within>ul{display:block;}}/*!sc*/
.dqUuBy>input{border:none;border-radius:8px;padding:0 12px;width:100%;height:100%;background-color:#222222;color:#fff;font-size:14px;transition:background-color 0.5s;}/*!sc*/
.dqUuBy>input::placeholder{color:#a7a7a7;}/*!sc*/
.dqUuBy>input:focus{color:#fff;background-color:#383838;}/*!sc*/
@media (min-width: 768px){.dqUuBy>input:focus{border-bottom-left-radius:6px;border-bottom-right-radius:6px;}}/*!sc*/
.dqUuBy>input:focus::placeholder{color:#757D86;}/*!sc*/
data-styled.g6[id="SearchBar__Container-sc-6n5xnu-0"]{content:"dqUuBy,"}/*!sc*/
.TCGeX{display:flex;flex-direction:row;align-items:center;justify-content:normal;position:sticky;top:0;width:100%;min-height:71px;opacity:0.9;background-color:hsla(0, 0%, 0%, 0.5);backdrop-filter:blur(20px);z-index:1;transition:all 0.5s;}/*!sc*/
data-styled.g8[id="Header__Container-sc-z8t49p-0"]{content:"TCGeX,"}/*!sc*/
.bXyKfJ{display:flex;flex-direction:row;align-items:center;justify-content:center;min-width:38px;height:38px;transition:all 2s;}/*!sc*/
@media (min-width: 768px){.bXyKfJ{display:none;}}/*!sc*/
.bXyKfJ svg{width:20px;height:20px;transform:translateY(1px);}/*!sc*/
.bXyKfJ svg g>path{stroke:#f0f6fc;}/*!sc*/
data-styled.g9[id="Header__HomeButton-sc-z8t49p-1"]{content:"bXyKfJ,"}/*!sc*/
.jXItFY{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;display:none;color:#f0f6fc;text-decoration:none;transition:color 2s;}/*!sc*/
@media (min-width: 768px){.jXItFY{display:block;}}/*!sc*/
.jXItFY>h1{font-size:24px;font-weight:600;white-space:nowrap;}/*!sc*/
data-styled.g10[id="Header__Title-sc-z8t49p-2"]{content:"jXItFY,"}/*!sc*/
.iiXbKi{position:relative;z-index:0;margin-right:8px;border:none;border-radius:50%;background:none;min-width:38px;min-height:38px;overflow:hidden;cursor:pointer;transition:box-shadow 2s;}/*!sc*/
@media (min-width: 768px){.iiXbKi{margin-left:8px;}}/*!sc*/
@media (hover:hover){.iiXbKi:hover{box-shadow:rgb(109,110,129) 1.5px 1.5px 3px 0px inset,rgba(109,110,129,0.5) -1.5px -1.5px 3px 1px inset;background-image:linear-gradient( to right bottom,#000000,#211e1f,#3b353b,#55505a,#6d6c7b,#6d6e81,#6b7187,#69748d,#535c78,#3e4563,#2b304e,#181b3a );}}/*!sc*/
data-styled.g11[id="Header__Button-sc-z8t49p-3"]{content:"iiXbKi,"}/*!sc*/
.cKuHdH{position:absolute;top:19px;right:-32px;border:1px dotted transparent;border-radius:50%;width:100px;height:100px;transition:border-color 2s;}/*!sc*/
@media (hover:hover){.cKuHdH:hover{border-color:#C9D1D9;}.cKuHdH:hover svg path{fill:ivory;}}/*!sc*/
.cKuHdH>div{position:absolute;top:40px;right:40px;border-radius:50%;border:none;padding:0;width:20px;height:20px;background:none;outline:none;}/*!sc*/
.cKuHdH>div:first-of-type{animation:ZmWYm 1.5s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;}/*!sc*/
.cKuHdH>div:last-of-type{animation:dGgAwC 1.5s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;}/*!sc*/
.cKuHdH>div svg{width:20px;height:20px;transform:rotate(90deg);}/*!sc*/
.cKuHdH>div svg path{fill:#fff;}/*!sc*/
data-styled.g12[id="Header__CircleLayout-sc-z8t49p-4"]{content:"cKuHdH,"}/*!sc*/
.ccoDNl{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;margin-left:auto;font-weight:500;}/*!sc*/
.ccoDNl>a{text-decoration:none;}/*!sc*/
.ccoDNl>a:hover{color:#F8EA18;}/*!sc*/
data-styled.g13[id="Header__Index-sc-z8t49p-5"]{content:"ccoDNl,"}/*!sc*/
.kBuzcZ{position:sticky;top:163px;right:0px;display:none;min-width:fit-content;height:fit-content;overflow-y:scroll;color:#C9D1D9;}/*!sc*/
.kBuzcZ::-webkit-scrollbar{display:none;}/*!sc*/
.kBuzcZ h2{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;margin-bottom:12px;padding:8px 10px;font-size:14px;font-weight:500;letter-spacing:0.025em;transition:all 0.5s;}/*!sc*/
.kBuzcZ ul{padding-left:20px;}/*!sc*/
.kBuzcZ li+li{margin-top:8px;}/*!sc*/
data-styled.g15[id="TOC__Container-sc-1ylks3q-0"]{content:"kBuzcZ,"}/*!sc*/
.iZVCNq{display:flex;align-items:center;margin-left:auto;border-top-left-radius:0.5em;border-bottom-left-radius:0.5em;padding-left:24px;padding-right:10px;max-width:215px;min-width:130px;width:100%;background-color:none;color:#8b949e;font-size:11px;transition:all 50ms ease-in-out;}/*!sc*/
@media (hover:hover){.iZVCNq:hover:hover{background-color:#222222;}}/*!sc*/
.iZVCNq a{padding:5px 0;width:100%;text-decoration:unset;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;}/*!sc*/
data-styled.g16[id="TOC__List-sc-1ylks3q-1"]{content:"iZVCNq,"}/*!sc*/
.bCIftt{display:grid;grid-template-columns:auto;grid-template-rows:auto auto;grid-template-areas:'post' 'post' 'comments';}/*!sc*/
@media (min-width: 1080px){.bCIftt{grid-template-columns:10fr 10fr 1fr;grid-template-rows:auto auto;grid-template-areas:'post post toc' 'post post toc' 'comments comments .';}}/*!sc*/
.bCIftt>section{grid-area:post;}/*!sc*/
@media (min-width: 768px){.bCIftt>section{max-width:826px;}}/*!sc*/
.bCIftt>aside{grid-area:toc;}/*!sc*/
@media (min-width: 1280px){.bCIftt>aside{display:flex;flex-direction:column;align-items:flex-start;justify-content:normal;}}/*!sc*/
.bCIftt>div{grid-area:comments;margin:0 auto;}/*!sc*/
@media (min-width: 768px){.bCIftt>div{max-width:826px;}}/*!sc*/
data-styled.g17[id="styles__Container-sc-4114r5-0"]{content:"bCIftt,"}/*!sc*/
.gUrOWl{display:flex;flex-direction:row;align-items:normal;justify-content:center;margin:72px auto 72px auto;height:auto;width:100%;}/*!sc*/
data-styled.g18[id="styles__Section-sc-4114r5-1"]{content:"gUrOWl,"}/*!sc*/
.cxztvr{padding:20px 0;width:100%;display:flex;flex-direction:column;align-items:normal;justify-content:normal;}/*!sc*/
data-styled.g19[id="styles__Article-sc-4114r5-2"]{content:"cxztvr,"}/*!sc*/
.gMHmtF{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;font-weight:500;padding:10px 0;}/*!sc*/
.gMHmtF>div>a{text-underline-position:under;}/*!sc*/
.gMHmtF>div>a:hover{color:#F8EA18;}/*!sc*/
.gMHmtF>div>svg{margin:0 4px;transform:rotate(90deg);}/*!sc*/
data-styled.g20[id="styles__Nav-sc-4114r5-3"]{content:"gMHmtF,"}/*!sc*/
.jVmYKt{margin-bottom:26px;}/*!sc*/
data-styled.g21[id="styles__Header-sc-4114r5-4"]{content:"jVmYKt,"}/*!sc*/
.ptiBa>section:nth-child(1){font-size:16px;}/*!sc*/
@media (min-width: 768px){.ptiBa>section:nth-child(1){font-size:18px;}}/*!sc*/
.ptiBa>section:nth-child(1) h1,.ptiBa>section:nth-child(1) h2,.ptiBa>section:nth-child(1) h3,.ptiBa>section:nth-child(1) h4,.ptiBa>section:nth-child(1) h5,.ptiBa>section:nth-child(1) h6{font-weight:600;}/*!sc*/
.ptiBa>section:nth-child(1) h1 .header-anchor,.ptiBa>section:nth-child(1) h2 .header-anchor,.ptiBa>section:nth-child(1) h3 .header-anchor,.ptiBa>section:nth-child(1) h4 .header-anchor,.ptiBa>section:nth-child(1) h5 .header-anchor,.ptiBa>section:nth-child(1) h6 .header-anchor{fill:#F8EA18;}/*!sc*/
.ptiBa>section:nth-child(1) h1:not(:first-of-type),.ptiBa>section:nth-child(1) h2:not(:first-of-type),.ptiBa>section:nth-child(1) h3:not(:first-of-type),.ptiBa>section:nth-child(1) h4:not(:first-of-type),.ptiBa>section:nth-child(1) h5:not(:first-of-type),.ptiBa>section:nth-child(1) h6:not(:first-of-type){margin-top:1.2em;}/*!sc*/
.ptiBa>section:nth-child(1) h1,.ptiBa>section:nth-child(1) h2{padding-bottom:0.2em;border-bottom:1px solid #222222;transition:border-color 0.5s;}/*!sc*/
.ptiBa>section:nth-child(1) h1{margin-block-start:1em;margin-block-end:1em;font-size:36px;}/*!sc*/
.ptiBa>section:nth-child(1) h2{margin-block-start:0.83em;margin-block-end:0.83em;font-size:28.8px;}/*!sc*/
.ptiBa>section:nth-child(1) h3{margin-block-start:1em;margin-block-end:1em;font-size:21.6px;}/*!sc*/
.ptiBa>section:nth-child(1) h4{margin-block-start:1.22em;margin-block-end:1.22em;font-size:19.8px;}/*!sc*/
.ptiBa>section:nth-child(1) em{font-style:oblique;}/*!sc*/
.ptiBa>section:nth-child(1) a{text-underline-position:under;}/*!sc*/
.ptiBa>section:nth-child(1) a:hover{color:#F8EA18;}/*!sc*/
.ptiBa>section:nth-child(1) p{display:block;margin-block-start:1em;margin-block-end:1em;word-break:break-word;line-height:32px;}/*!sc*/
.ptiBa>section:nth-child(1) ol,.ptiBa>section:nth-child(1) ul{padding-left:40px;}/*!sc*/
.ptiBa>section:nth-child(1) ul{list-style-type:disc;}/*!sc*/
.ptiBa>section:nth-child(1) ol{list-style-type:decimal;}/*!sc*/
.ptiBa>section:nth-child(1) li{display:list-item;text-align:-webkit-match-parent;line-height:32px;}/*!sc*/
.ptiBa>section:nth-child(1) li p{margin:0;}/*!sc*/
.ptiBa>section:nth-child(1) table{display:block;border-color:gray;border-spacing:0;border-collapse:collapse;max-width:100%;overflow:auto;font-size:16px;transition:all 0.5s;}/*!sc*/
.ptiBa>section:nth-child(1) table thead{display:table-header-group;vertical-align:middle;border-color:inherit;}/*!sc*/
.ptiBa>section:nth-child(1) table tbody{display:table-row-group;vertical-align:middle;border-color:inherit;}/*!sc*/
.ptiBa>section:nth-child(1) table tr{display:table-row;vertical-align:inherit;border:inherit;background-color:#0d1117;border-top-width:1px;border-top-style:solid;border-top-color:#222222;}/*!sc*/
.ptiBa>section:nth-child(1) table tr:nth-of-type(2n){background-color:#25282E;}/*!sc*/
.ptiBa>section:nth-child(1) table th,.ptiBa>section:nth-child(1) table td{display:table-cell;vertical-align:inherit;padding:6px 13px;border-width:1px;border-style:solid;border-color:#30363d;}/*!sc*/
.ptiBa>section:nth-child(1) blockquote{padding:12px 20px 12px 28px;margin:30px 0px;border-left:4px solid #C9D1D9;font-family:Georgia,serif;font-style:italic;text-align:justify;font-size:20px;line-height:1.2;transition:all 0.5s;}/*!sc*/
.ptiBa>section:nth-child(1) blockquote p{margin:0;}/*!sc*/
.ptiBa>section:nth-child(1) code{margin:0;padding:0.2em 0.4em;background-color:rgba(135,131,120,0.15);color:#BF616A;border-radius:6px;font-size:85%;font-family:SFMono-Regular,Menlo,Consolas,Liberation Mono,monospace;}/*!sc*/
.ptiBa>section:nth-child(1) strong{font-weight:bold;}/*!sc*/
.ptiBa>section:nth-child(1) deckgo-highlight-code{--deckgo-highlight-code-carbon-toolbar-display:none;--deckgo-highlight-code-white-space:pre-wrap;max-width:90vw;font-size:3vw;margin-bottom:32px;}/*!sc*/
@media (min-width: 425px){.ptiBa>section:nth-child(1) deckgo-highlight-code{font-size:14px;}}/*!sc*/
.ptiBa>section:nth-child(1) img{max-width:90vw;}/*!sc*/
@media (min-width: 768px){.ptiBa>section:nth-child(1) img{max-width:694px;}}/*!sc*/
data-styled.g22[id="styles__Main-sc-4114r5-5"]{content:"ptiBa,"}/*!sc*/
.btgxxR{margin-bottom:4px;font-size:36px;font-weight:600;}/*!sc*/
@media (min-width: 425px){.btgxxR{font-size:42px;}}/*!sc*/
data-styled.g23[id="styles__Title-sc-4114r5-6"]{content:"btgxxR,"}/*!sc*/
.jflpBx{font-family:'Sora','Open Sans','Helvetica Neue',sans-serif;color:#8b949e;font-size:14px;}/*!sc*/
.jflpBx>div{display:flex;flex-direction:column;align-items:flex-end;justify-content:normal;}/*!sc*/
.jflpBx>div a{text-underline-position:under;}/*!sc*/
.jflpBx>div a:hover{color:#F8EA18;}/*!sc*/
data-styled.g24[id="styles__SubTitle-sc-4114r5-7"]{content:"jflpBx,"}/*!sc*/
@keyframes ZmWYm{from{transform:rotate(90deg) translate(50px) translateZ(10px);}to{transform:rotate(270deg) translate(50px) translateZ(10px);}}/*!sc*/
data-styled.g26[id="sc-keyframes-ZmWYm"]{content:"ZmWYm,"}/*!sc*/
@keyframes dGgAwC{from{transform:rotate(90deg) translate(-50px) translateZ(10px);}to{transform:rotate(270deg) translate(-50px) translateZ(10px);}}/*!sc*/
data-styled.g27[id="sc-keyframes-dGgAwC"]{content:"dGgAwC,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .header-anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .header-anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .header-anchor svg,
    h2 .header-anchor svg,
    h3 .header-anchor svg,
    h4 .header-anchor svg,
    h5 .header-anchor svg,
    h6 .header-anchor svg {
      visibility: hidden;
    }
    h1:hover .header-anchor svg,
    h2:hover .header-anchor svg,
    h3:hover .header-anchor svg,
    h4:hover .header-anchor svg,
    h5:hover .header-anchor svg,
    h6:hover .header-anchor svg,
    h1 .header-anchor:focus svg,
    h2 .header-anchor:focus svg,
    h3 .header-anchor:focus svg,
    h4 .header-anchor:focus svg,
    h5 .header-anchor:focus svg,
    h6 .header-anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - -200)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=6d5c0719d6ce39c07b53ce38158aed46" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/favicons/android-chrome-192x192.png?v=6d5c0719d6ce39c07b53ce38158aed46"/><link rel="apple-touch-icon" sizes="512x512" href="/favicons/android-chrome-512x512.png?v=6d5c0719d6ce39c07b53ce38158aed46"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><title data-gatsby-head="true">리액트에서 데이터는 어떻게 가져와야 할까 | conerstone</title><link as="style" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@100;200;300;400;500&amp;display=swap" data-gatsby-head="true"/><link as="style" rel="stylesheet" href="//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css" data-gatsby-head="true"/><script type="application/ld+json" data-gatsby-head="true">
            {
              "@context": "https://schema.org",
              "@type": "HowTo",
              "url": "https://rheech22.github.io/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까",
              "headline": "conerstone",
              "datePublished": "2024-10-13 14:53:44 +0900",
              "dateModified": "2024-10-13 16:06:09 +0900",
              "image": "[]"
            }
          </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__Container-sc-z8t49p-0 TCGeX"><a tabindex="-1" class="Header__HomeButton-sc-z8t49p-1 bXyKfJ" href="/"><svg viewBox="0 0 21 21" fill="currentColor" height="1em" width="1em"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M1.5 10.5l9-9 9 9"></path><path d="M3.5 8.5v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></g></svg></a><a tabindex="-1" class="Header__Title-sc-z8t49p-2 jXItFY" href="/"><h1>conerstone</h1></a><button tabindex="-1" aria-label="switch display mode" class="Header__Button-sc-z8t49p-3 iiXbKi"><div class="Header__CircleLayout-sc-z8t49p-4 cKuHdH"><div><svg width="30px" height="30px" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M26.25 14.936C26.25 21.107 21.097 26.25 14.656 26.25C9.761 26.25 5.509 23.55 3.835 19.436C3.706 19.05 3.706 18.664 3.963 18.407C4.221 18.15 4.608 18.021 4.994 18.15C5.638 18.279 6.282 18.407 6.798 18.407C11.951 18.407 16.073 14.421 16.073 9.407C16.073 7.864 15.815 6.579 15.042 5.036C14.913 4.779 14.913 4.393 15.171 4.136C15.429 3.879 15.686 3.75 16.073 3.75C21.87 4.393 26.25 9.279 26.25 14.936Z" fill="#030D45"></path></svg></div><div><svg width="30px" height="30px" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 9.375c-3.1 0 -5.625 2.525 -5.625 5.625s2.525 5.625 5.625 5.625 5.625 -2.525 5.625 -5.625 -2.525 -5.625 -5.625 -5.625zm14.438 4.717l-5.549 -2.771 1.963 -5.883c0.264 -0.797 -0.492 -1.553 -1.283 -1.283l-5.883 1.963 -2.777 -5.555c-0.375 -0.75 -1.441 -0.75 -1.816 0l-2.771 5.549L5.432 4.148c-0.797 -0.264 -1.553 0.492 -1.283 1.283l1.963 5.883 -5.549 2.777c-0.75 0.375 -0.75 1.441 0 1.816l5.549 2.771 -1.963 5.889c-0.264 0.797 0.492 1.553 1.283 1.283l5.883 -1.963 2.771 5.549c0.375 0.75 1.441 0.75 1.816 0l2.771 -5.549 5.883 1.963c0.797 0.264 1.553 -0.492 1.283 -1.283l-1.963 -5.883 5.549 -2.771c0.762 -0.381 0.762 -1.447 0.012 -1.822zm-9.135 6.211c-2.924 2.924 -7.682 2.924 -10.605 0 -2.924 -2.924 -2.924 -7.682 0 -10.605 2.924 -2.924 7.682 -2.924 10.605 0 2.924 2.924 2.924 7.682 0 10.605z"></path></svg></div></div></button><form class="SearchBar__Container-sc-6n5xnu-0 dqUuBy"><input type="text" placeholder="Search" maxLength="40" class="Textbox__Input-sc-vlag4q-0 emEIsO" value=""/><button type="submit" hidden="" aria-label="Submit Search"></button></form><div class="Header__Index-sc-z8t49p-5 ccoDNl"><a tabindex="-1" href="/wiki-index/"><h2>Index.</h2></a></div></header><main><div class="styles__Container-sc-4114r5-0 bCIftt"><section class="styles__Section-sc-4114r5-1 gUrOWl"><article class="styles__Article-sc-4114r5-2 cxztvr"><nav class="styles__Nav-sc-4114r5-3 gMHmtF"><div><a href="/리액트/">리액트</a><svg aria-hidden="true" role="img" class="octicon octicon-chevron-up" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M3.22 9.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L8 6.06 4.28 9.78a.75.75 0 01-1.06 0z"></path></svg></div><div><a href="/리액트/리액트_토막_지식/">리액트 토막 지식</a></div></nav><header class="styles__Header-sc-4114r5-4 jVmYKt"><h1 class="styles__Title-sc-4114r5-6 btgxxR">리액트에서 데이터는 어떻게 가져와야 할까</h1><div class="styles__SubTitle-sc-4114r5-7 jflpBx"><div><span>2<!-- --> min read</span><time dateTime="created at"><a href="https://github.com/rheech22/rheech22.github.io/commits/develop/src/wikis/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/index.md" target="_blank" rel="noreferrer">CREATED: <!-- -->13/10/2024</a></time><time dateTime="updated at"><a href="https://github.com/rheech22/rheech22.github.io/commits/develop/src/wikis/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/index.md" target="_blank" rel="noreferrer">UPDATED: <!-- -->13/10/2024</a></time><a href="https://github.com/rheech22/rheech22.github.io/blame/develop/src/wikis/리액트/리액트_토막_지식/  리액트에서_데이터는_어떻게_가져와야_할까/index.md" target="_blank" rel="noreferrer">Blame</a></div></div></header><main class="styles__Main-sc-4114r5-5 ptiBa"><section><blockquote>
<p>이 글은 <a href="https://www.robinwieruch.de/react-fetch-data-hooks/">How to fetch data in React</a>을 읽고 요약한 글입니다. 팁이라고 할만한 내용이 많지 않아서 클래스 컴포넌트로 작성된 내용을 함수 컴포넌트로 바꾸는 정도로만 정리해 봤습니다.</p>
</blockquote>
<p>리액트에서 널리 사용되는 HTTP 클라이언트 라이브러리에서 제공하는 hook을 사용하는 것이 더 일반적인 것 같지만, <code>fetch</code>나 <code>axios</code>를 사용한다면 <code>useEffect</code>를 활용해서 데이터를 가져올 수 있다. 초기 렌더링 후 시점에만 데이터를 요청하도록 의존성 배열을 비워둔다.</p>
<h3 id="공통-부모에서-가져오기" style="position:relative;">공통 부모에서 가져오기<a href="#%EA%B3%B5%ED%86%B5-%EB%B6%80%EB%AA%A8%EC%97%90%EC%84%9C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0" aria-label="공통 부모에서 가져오기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>데이터에 관심을 가지는 여러 컴포넌트가 있다고 가정했을 때 공통 부모 컴포넌트에서 가져오는 방식이다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f321b91e8db09a38140f40fd9f1b80a3/c65fa/common_parent.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 82.75862068965519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVR42p2UWY6DQAwFOQH7FvY9Au5/Po/KkhEzScgkHxbG3S6e3aadMAzllQVB8GBX+zHnajHPcynLUq0oCsmy7HtgHMcKiqJIfZ5A8T8GUhoAFHqep+++76tC4h8BSU6SRG63m7RtK+M4yjRN0ve9dF2na1e9dJ6BhmGQeZ7VgBIHzDtgSkf9WyCbmqaRdV0VCjxNUzV813UPdVVVPS3/ANIjgCja9122bVM4MRIBAOadXtZ1fQh5ABJkE6owoPRtWRYtE9/WrBX4QPnIGepQCuNBbwCdRwOFJAFEIWatwWc/6+TAYc2xEviqDa5B+RBjQzt4kmRxYgakJcRUIckYJdjp2byhEN9iNuiAiXHydniYAvkifWAj44Fv/cC33pJgM8he1my/5f86lPNlgG9loBqlPCkPAVeXxstfz5RT2v1+P1Sh+F9/yl+zywCVlMypWg+/vr6sr9ardzcNwB8KEapPTCJwYAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="공통_부모에서_가져오기"
        title=""
        src="/static/f321b91e8db09a38140f40fd9f1b80a3/31198/common_parent.png"
        srcset="/static/f321b91e8db09a38140f40fd9f1b80a3/fe9c7/common_parent.png 174w,
/static/f321b91e8db09a38140f40fd9f1b80a3/39e45/common_parent.png 347w,
/static/f321b91e8db09a38140f40fd9f1b80a3/31198/common_parent.png 694w,
/static/f321b91e8db09a38140f40fd9f1b80a3/ee9b6/common_parent.png 1041w,
/static/f321b91e8db09a38140f40fd9f1b80a3/c1bea/common_parent.png 1388w,
/static/f321b91e8db09a38140f40fd9f1b80a3/c65fa/common_parent.png 1434w"
        sizes="(max-width: 694px) 100vw, 694px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">const CommonParent = () =&gt; {
  const [{ products }, setFetchInfo] = React.useState({
    products: []
  });

  React.useEffect(() =&gt; {
    (async () =&gt; {
      http.get(&#39;https://conerstone.com&#39;).then((data) =&gt; {
        setFetchInfo((prev) =&gt; ({ ...prev, products: data.products }));
      });
    })();
  }, []);

  return (
    &lt;&gt;
      &lt;Children1 products={products} /&gt;
      &lt;Children2 products={products} /&gt;
      &lt;Children3 products={products} /&gt;
    &lt;/&gt;
  );
};</code>
        </deckgo-highlight-code>
<h3 id="로딩-인디케이터를-보여주는-곳에서-가져오기" style="position:relative;">로딩 인디케이터를 보여주는 곳에서 가져오기<a href="#%EB%A1%9C%EB%94%A9-%EC%9D%B8%EB%94%94%EC%BC%80%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%B4%EC%97%AC%EC%A3%BC%EB%8A%94-%EA%B3%B3%EC%97%90%EC%84%9C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0" aria-label="로딩 인디케이터를 보여주는 곳에서 가져오기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>로딩 인디케이터를 보여주고자 하는 곳에서 데이터를 가져오기도 한다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/19d66e84fc5505390cb4813ce33107e5/2cefc/loading-indicator-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 86.20689655172414%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABgUlEQVR42p2UfY6CQAzFOYAREQFBkA8VEojs7gX2/rfqzq+xGzArZvmjmTLTvnl97eDt93tZsiAIZvYu3lsCiuNY8jyXsizVTqeTHA6H9YBZlkkURRKGoRp+mqaLTF8C7nY7OR6PyhJWGP6/AQHynUVJouUWRSHn81nqulbfAF+BzgFdWWWRS+f0GttWirxQ7SgXcICv16uuyPGXnjPA0AU0jsVHXcn3/S7VoxmUDsCUFeXTpGemnjWAUvEjFxinmYyfXzI6UNhwDihMTU8ahPm+P5NAAQkgATZ108jtdpPGadZ1nfR9L8MwSOskYJ+SWc0nxyZBARMnPuUAiE6IzjeMWZ9149w0pWT2waBhEPMIApmkxrHbbrcaSJKtm81G9/EBnI4QVfANKEyVod1UVZXejKEJCdzMPuc2NhDAxyDBaperhla/iW6NMvEvl4teMtXKXs805+3Tgw2GvjY6q5+eAcKADlOWNWM1YPJ4fjw7xsOmYBXg7+uZ6GT6Lf2+fgCivKrSXpq/4gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="로딩_인디케이터_위치에서_가져오기_1"
        title=""
        src="/static/19d66e84fc5505390cb4813ce33107e5/31198/loading-indicator-1.png"
        srcset="/static/19d66e84fc5505390cb4813ce33107e5/fe9c7/loading-indicator-1.png 174w,
/static/19d66e84fc5505390cb4813ce33107e5/39e45/loading-indicator-1.png 347w,
/static/19d66e84fc5505390cb4813ce33107e5/31198/loading-indicator-1.png 694w,
/static/19d66e84fc5505390cb4813ce33107e5/ee9b6/loading-indicator-1.png 1041w,
/static/19d66e84fc5505390cb4813ce33107e5/c1bea/loading-indicator-1.png 1388w,
/static/19d66e84fc5505390cb4813ce33107e5/2cefc/loading-indicator-1.png 1400w"
        sizes="(max-width: 694px) 100vw, 694px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">const CommonParent = () =&gt; {
  const [{ products, isLoading }, setFetchInfo] = React.useState({
    products: [],
    isLoading: false
  });

  React.useEffect(() =&gt; {
    (async () =&gt; {
      setFetchInfo((prev) =&gt; ({ ...prev, isLoading: true }));
      http
        .get(&#39;https://conerstone.com&#39;)
        .then((data) =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, products: data.products }));
        })
        .finally(() =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, isLoading: false }));
        });
    })();
  }, []);

  return (
    &lt;&gt;
      {isLoading ? (
        &lt;LoadingIndicator /&gt;
      ) : (
        &lt;&gt;
          &lt;Children1 products={products} /&gt;
          &lt;Children2 products={products} /&gt;
          &lt;Children3 products={products} /&gt;
        &lt;/&gt;
      )}
    &lt;/&gt;
  );
};</code>
        </deckgo-highlight-code>
<p>만약, 가장 상위 레벨에서 로딩 인디케이터를 보여줘야 한다면 끌어 올려야 할 수도 있다.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d93003b0de82903b4921b1dea8680bab/c45c7/loading-indicator-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 86.78160919540231%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABl0lEQVR42p2U/Y6CQAzE9wUQFRAUBRS/QoIxZy6+/5P19rdxEiRqLv7RFLbb6XS6u24+n9s7S5LEkiwLlnrL89zSNLVPOe5dYDab2Wq1sq6u7eqt9d95UVhZliH2FWDhAdr12u6X3i6nk2We5XK5DMz/DQgQRmtN01h7ONjv/W4/t5udPOjaF5hOp29ZurFmsIDZbrezqqqs2mxCDGYU2O/3oe3FYvFSTzdkxiYYID4GOMnyrFEMowAaj5k+AZIAaBRFFsexTSaTwELasUfrtA3gS4bSDUDaOnjd0Iu2McBqP2kkIM4aXoDKD4AwIrDdbu14PAYwkllDr/P5bH3fW9d1AUjAbdsGIweZNH3HDy1tvPj47HGAaUttDnVCP9rFIwf5kJIsDiASYKIBwI4kNlOVbwxA9uDZw16Yazh4RyVAMVrBw1AsqKq4JkwyxQAgThEVCEPRJLHh2ZK+DACNSSY+PPwy3Z6nKQ+14pvKbNQZVKvjWzXM+3iXdSOYMhMX+NevDaxgVDxeGQ3tK8BxS3oQPj1dAP4BgbyroAgQXrEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="로딩_인디케이터_위치에서_가져오기_2"
        title=""
        src="/static/d93003b0de82903b4921b1dea8680bab/31198/loading-indicator-2.png"
        srcset="/static/d93003b0de82903b4921b1dea8680bab/fe9c7/loading-indicator-2.png 174w,
/static/d93003b0de82903b4921b1dea8680bab/39e45/loading-indicator-2.png 347w,
/static/d93003b0de82903b4921b1dea8680bab/31198/loading-indicator-2.png 694w,
/static/d93003b0de82903b4921b1dea8680bab/ee9b6/loading-indicator-2.png 1041w,
/static/d93003b0de82903b4921b1dea8680bab/c45c7/loading-indicator-2.png 1346w"
        sizes="(max-width: 694px) 100vw, 694px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">const TopLevelCompoenent = () =&gt; {
  const [{ products, isLoading }, setFetchInfo] = React.useState({
    products: [],
    isLoading: false
  });

  React.useEffect(() =&gt; {
    (async () =&gt; {
      setFetchInfo((prev) =&gt; ({ ...prev, isLoading: true }));
      http
        .get(&#39;https://conerstone.com&#39;)
        .then((data) =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, products: data.products }));
        })
        .finally(() =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, isLoading: false }));
        });
    })();
  }, []);

  return (
    &lt;&gt;
      {isLoading ? (
        &lt;LoadingIndicator /&gt;
      ) : (
        &lt;&gt;
          &lt;CommonParent products={products} /&gt;
          &lt;Other /&gt;
        &lt;/&gt;
      )}
    &lt;/&gt;
  );
};</code>
        </deckgo-highlight-code>
<p>또는, 각 컴포넌트에서 로딩 인디케이터를 보여준다면 <code>props</code>로 넘기는 방법도 있겠다.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/c45c7/loading-indicator-3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 85.63218390804596%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABwElEQVR42qWU2VLCQBBF8wOGbGSHbJAElDIlT2jp//9Ve2+boUBI1PKhmckwffr2UmN5nidT5rrujc3dp1lzsCRJJM9zWa1Wsl6vdR9F0SzYmotGgO/7V2cE/1khFSwWC4njWMIwVFVcl8ulqnYcZ1LlDZCK6LTdbmW320nbtqqqqio9a5pGAxA+C2REXsqyTI0QOnJv6mm+0zTVb2bwXekVkJcJ5UUqoyrTCAJMKWzb1j3BdxX6BKIu6ohLBB2PR9nv9+cmEMxAtISGACnMA9i/BLr4sQELmA6cNqgR61SWpXRdJ33f60rFPKvrWvesZ45gcZZfKywwY491Ja9Q08GBCqmCqZl6ElQUhaoyXS4AewH07fAkLTLirDJDKwOgBOB9eJYWTl4QnJ1MjQg3o8IzTgLTbZHRxzBIA5gz9sBimiHIOWDc89AAVSEArF86Kud/DML/QnwXUJeOmfB/S7sKYDQOMC2ASqrh6uOcwQqkzeGmOjNi9Am5jn5fTZl4ALjmiDo0tZzQlD0aFbOzYxmm/GYeB0/rVMSRnA4H6ZHaA+aP6f/rtYlg9WYjJWsFdfeG+devDeultb2o70/v4Sep9q18PttHdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="로딩_인디케이터_위치에서_가져오기_3"
        title=""
        src="/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/31198/loading-indicator-3.png"
        srcset="/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/fe9c7/loading-indicator-3.png 174w,
/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/39e45/loading-indicator-3.png 347w,
/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/31198/loading-indicator-3.png 694w,
/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/ee9b6/loading-indicator-3.png 1041w,
/static/74f05fbeecc0ad1c4ec0bf17fb706dcc/c45c7/loading-indicator-3.png 1346w"
        sizes="(max-width: 694px) 100vw, 694px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">const CommonParent = () =&gt; {
  const [{ products, isLoading }, setFetchInfo] = React.useState({
    products: [],
    isLoading: false
  });

  React.useEffect(() =&gt; {
    (async () =&gt; {
      setFetchInfo((prev) =&gt; ({ ...prev, isLoading: true }));
      http
        .get(&#39;https://conerstone.com&#39;)
        .then((data) =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, products: data.products }));
        })
        .finally(() =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, isLoading: false }));
        });
    })();
  }, []);

  return (
    &lt;&gt;
      &lt;Children1 products={products} isProductsLoading={isLoading} /&gt;
      &lt;Children2 products={products} isProductsLoading={isLoading} /&gt;
      &lt;Children3 products={products} isProductsLoading={isLoading} /&gt;
    &lt;/&gt;
  );
};</code>
        </deckgo-highlight-code>
<h3 id="에러-메세지를-보여주는-곳에서-가져오기" style="position:relative;">에러 메세지를 보여주는 곳에서 가져오기<a href="#%EC%97%90%EB%9F%AC-%EB%A9%94%EC%84%B8%EC%A7%80%EB%A5%BC-%EB%B3%B4%EC%97%AC%EC%A3%BC%EB%8A%94-%EA%B3%B3%EC%97%90%EC%84%9C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0" aria-label="에러 메세지를 보여주는 곳에서 가져오기 permalink" class="header-anchor after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>이 전략도 "로딩 인디케이터를 보여주는 곳에서 가져오기"와 동일하다. 에러 메세지를 어디서 어떻게 표현할 것인지 고려해야 한다. 에러 속성을 추가하고 프라미스 반환에 대한 예외를 처리한다.</p>
<deckgo-highlight-code language="js" terminal="carbon" theme="one-dark"  >
          <code slot="code">const CommonParent = () =&gt; {
  const [{ products, isLoading, error }, setFetchInfo] = React.useState({
    products: [],
    isLoading: false,
    error: null
  });

  React.useEffect(() =&gt; {
    (async () =&gt; {
      setFetchInfo((prev) =&gt; ({ ...prev, isLoading: true }));
      http
        .get(&#39;https://conerstone.com&#39;)
        .then((data) =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, products: data.products }));
        })
        .catch((error) =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, error }));
        })
        .finally(() =&gt; {
          setFetchInfo((prev) =&gt; ({ ...prev, isLoading: false }));
        });
    })();
  }, []);

  // ...생략
};</code>
        </deckgo-highlight-code></section></main></article></section><aside class="TOC__Container-sc-1ylks3q-0 kBuzcZ"><h2>ON THIS PAGE</h2><ul><li class="TOC__List-sc-1ylks3q-1 iZVCNq"><a href="/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/#공통-부모에서-가져오기">공통 부모에서 가져오기</a></li><li class="TOC__List-sc-1ylks3q-1 iZVCNq"><a href="/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/#로딩-인디케이터를-보여주는-곳에서-가져오기">로딩 인디케이터를 보여주는 곳에서 가져오기</a></li><li class="TOC__List-sc-1ylks3q-1 iZVCNq"><a href="/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/#에러-메세지를-보여주는-곳에서-가져오기">에러 메세지를 보여주는 곳에서 가져오기</a></li></ul></aside></div></main><footer class="Footer__Container-sc-13p6nst-0 iETjur"><section><span>© rheech22 2022</span></section></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/리액트/리액트_토막_지식/리액트에서_데이터는_어떻게_가져와야_할까/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-a3726bf9ffa4bc4b35c5.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-88366ab3f81be41d1963.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-901be6ea90881a0f60ea.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-9ff4a2f5029ffdad7b65.js\"],\"component---src-pages-search-tsx\":[\"/component---src-pages-search-tsx-378d8666f6a5c47200e1.js\"],\"component---src-pages-wiki-index-tsx\":[\"/component---src-pages-wiki-index-tsx-1fbf1c84e286713895bd.js\"],\"component---src-templates-wiki-template-tsx\":[\"/component---src-templates-wiki-template-tsx-16cc8d77aed6bca742cb.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="9182980284b462cadce5";</script><script src="/webpack-runtime-d2bbc6e258549befaab7.js" async></script><script src="/framework-66e7f71d482ebd59d1c4.js" async></script><script src="/app-a3726bf9ffa4bc4b35c5.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>